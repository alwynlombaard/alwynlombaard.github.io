<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Xamarin stuff | Alwyn Lombaard’s blog</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Xamarin stuff" />
<meta name="author" content="Alwyn Lombaard" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Mobile developer (guitar student and athlete in my spare time)" />
<meta property="og:description" content="Mobile developer (guitar student and athlete in my spare time)" />
<link rel="canonical" href="http://localhost:4000/xamarin/2015/01/01/dump.html" />
<meta property="og:url" content="http://localhost:4000/xamarin/2015/01/01/dump.html" />
<meta property="og:site_name" content="Alwyn Lombaard’s blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-01-01T00:00:00+00:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","author":{"@type":"Person","name":"Alwyn Lombaard"},"url":"http://localhost:4000/xamarin/2015/01/01/dump.html","headline":"Xamarin stuff","dateModified":"2015-01-01T00:00:00+00:00","datePublished":"2015-01-01T00:00:00+00:00","description":"Mobile developer (guitar student and athlete in my spare time)","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/xamarin/2015/01/01/dump.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css">
  <link rel="shortcut icon" type="image/png" href="/favicon.png"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Alwyn Lombaard's blog" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Alwyn Lombaard&#39;s blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/playlist/">Playlist</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Xamarin stuff</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2015-01-01T00:00:00+00:00" itemprop="datePublished">Jan 1, 2015
      </time>• <span itemprop="author" itemscope itemtype="http://schema.org/Person"><span class="p-author h-card" itemprop="name">Alwyn Lombaard</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <!--more-->

<h2 id="xamarinforms">Xamarin.Forms</h2>

<h3 id="xamarinforms-fundamentals">Xamarin.Forms Fundamentals</h3>
<h4 id="templates"><strong>Templates</strong></h4>
<ul>
  <li><strong>ControlTemplate</strong>
    <ul>
      <li>Defines the visual structure of <code class="language-plaintext highlighter-rouge">ContentView</code> derived custom controls, and <code class="language-plaintext highlighter-rouge">ContentPage</code> derived pages. Control templates separate the user interface (UI) for a custom control, or page, from the logic that implements the control or page.
        <ul>
          <li>Create control template with single parent in Resource Dictionary.
            <ul>
              <li>Set <code class="language-plaintext highlighter-rouge">BindingContext="{Binding Source={RelativeSource TemplatedParent}}"</code> on root view to bind to properties of custom control or  use <code class="language-plaintext highlighter-rouge">TemplateBinding</code> markup extension.</li>
            </ul>
          </li>
          <li>Set <code class="language-plaintext highlighter-rouge">ControlTemplate</code> attribute of custom control resource in XAML</li>
          <li>A <code class="language-plaintext highlighter-rouge">ContentPresenter</code> can be placed in a control template to mark where content to be displayed</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>DataTemplate</strong>
    <ul>
      <li>Defines the presentation of data on supported controls.
        <ul>
          <li>DataTemplate creation
            <ul>
              <li>
                <p>A common usage scenario for a <code class="language-plaintext highlighter-rouge">DataTemplate</code> is displaying data from a collection of objects in a <code class="language-plaintext highlighter-rouge">CollectionView</code>. The appearance of the data for each cell in the <code class="language-plaintext highlighter-rouge">CollectionView</code> can be managed by setting the <code class="language-plaintext highlighter-rouge">CollectionView.ItemTemplate</code> property.</p>
              </li>
              <li>
                <p>Data templates can be created inline, in a <code class="language-plaintext highlighter-rouge">ResourceDictionary</code>, or from a custom type.</p>
                <ul>
                  <li>
                    <p>Creating Inline DataTemplate</p>

                    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;CollectionView.ItemTemplate&gt;
      &lt;DataTemplate&gt;
          &lt;Grid&gt;
          ...  
          &lt;/Grid&gt;
      &lt;/DataTemplate&gt;
  &lt;/CollectionView.ItemTemplate&gt;
</code></pre></div>                    </div>
                  </li>
                  <li>
                    <p>Creating DataTemplate with a Type</p>

                    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;CollectionView.ItemTemplate&gt;
      &lt;DataTemplate&gt;
          &lt;local:MyContentView /&gt;
      &lt;/DataTemplate&gt;
  &lt;/CollectionView.ItemTemplate&gt;
</code></pre></div>                    </div>
                  </li>
                  <li>
                    <p>Creating <code class="language-plaintext highlighter-rouge">DataTemplate</code> as a <code class="language-plaintext highlighter-rouge">Resource</code></p>

                    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;ContentPage.Resources&gt;
      &lt;ResourceDictionary&gt;
          &lt;DataTemplate x:Key="myTemplate"&gt;
                  &lt;Grid&gt;
                      ...
                  &lt;/Grid&gt;
          &lt;/DataTemplate&gt;
      &lt;/ResourceDictionary&gt;
  &lt;/ContentPage.Resources&gt;
  ...
  &lt;CollectionView ItemTemplate="{StaticResource myTemplate}" /&gt;
</code></pre></div>                    </div>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li>DataTemplate selection
            <ul>
              <li>A <code class="language-plaintext highlighter-rouge">DataTemplateSelector</code> can be used to choose a DataTemplate at runtime based on the value of a data-bound property.
                <ul>
                  <li>A data template selector is implemented by creating a class that inherits from <code class="language-plaintext highlighter-rouge">DataTemplateSelector</code>. The <code class="language-plaintext highlighter-rouge">OnSelectTemplate</code> method is then overridden to return a particular DataTemplate</li>
                </ul>

                <p>Example</p>
                <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      public class MyDataTemplateSelector : DataTemplateSelector
      {
          public DataTemplate ValidTemplate { get; set; }
          public DataTemplate InvalidTemplate { get; set; }

          protected override DataTemplate OnSelectTemplate (object item, BindableObject container)
          {
              return ((MyItem)item).DateOfBirth.Year &gt;= 1980 ? ValidTemplate : InvalidTemplate;
          }
      } 
</code></pre></div>                </div>
                <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      &lt;ResourceDictionary&gt;
          &lt;DataTemplate x:Key="validItemTemplate"&gt;
              &lt;Grid&gt;
              ...
              &lt;/Grid&gt;
          &lt;/DataTemplate&gt;
          &lt;DataTemplate x:Key="invalidItemTemplate"&gt;
              &lt;Grid&gt;
              ...
              &lt;/Grid&gt;
          &lt;/DataTemplate&gt;
          &lt;local:MyDataTemplateSelector x:Key="myDataTemplateSelector"
              ValidTemplate="{StaticResource validItemTemplate}"
              InvalidTemplate="{StaticResource invalidItemTemplate}" /&gt;
      &lt;/ResourceDictionary&gt;  
</code></pre></div>                </div>
                <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      &lt;CollectionView 
      ItemTemplate="{StaticResource myDataTemplateSelector}" /&gt;
</code></pre></div>                </div>

                <ul>
                  <li>Limitations
                    <ul>
                      <li>The DataTemplateSelector subclass must always return the same template for the same data if queried multiple times.</li>
                      <li>The DataTemplateSelector subclass must not return another DataTemplateSelector subclass.</li>
                      <li>The DataTemplateSelector subclass must not return new instances of a DataTemplate on each call. Instead, the same instance must be returned. Failure to do so will create a memory leak and will disable virtualization.</li>
                      <li>On Android, there can be no more than 20 different data templates per ListView.</li>
                    </ul>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h4 id="triggers"><strong>Triggers</strong></h4>
<ul>
  <li>Some Triggers (Except EventTrigger for example) can have a collecion of <code class="language-plaintext highlighter-rouge">EnterActions</code> and <code class="language-plaintext highlighter-rouge">ExitActions</code> that is <code class="language-plaintext highlighter-rouge">IList</code> of type <code class="language-plaintext highlighter-rouge">TriggerAction&lt;T&gt;</code>. EnterActions are executed when the trigger conditions are met and ExitActions are executed when the trigger conditions are no longer met.
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;Entry&gt;
      &lt;Entry.Triggers&gt;
          &lt;Trigger TargetType="Entry"
                  Property="IsFocused" Value="True"&gt;
              &lt;Trigger.EnterActions&gt;
                  &lt;local:MyTriggerAction1 /&gt;
              &lt;/Trigger.EnterActions&gt;

              &lt;Trigger.ExitActions&gt;
                  &lt;local:MyTriggerAction2 /&gt;
              &lt;/Trigger.ExitActions&gt;
          &lt;/Trigger&gt;
      &lt;/Entry.Triggers&gt;
  &lt;/Entry&gt;
</code></pre></div>    </div>
  </li>
  <li>PropertyTrigger
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;Entry&gt;
      &lt;Entry.Triggers&gt;
          &lt;Trigger TargetType="Entry"
                  Property="IsFocused" 
                  Value="True"&gt;
              &lt;Setter Property="BackgroundColor" 
                  Value="Yellow" /&gt;
          &lt;/Trigger&gt;
      &lt;/Entry.Triggers&gt;
  &lt;/Entry&gt;
</code></pre></div>    </div>
  </li>
  <li>DataTrigger
    <ul>
      <li>Data triggers use data binding to monitor another control to cause the Setters to get called.</li>
    </ul>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;Button.Triggers&gt;
      &lt;DataTrigger TargetType="Button"
                  Binding="{Binding Source={x:Reference entry},
                                  Path=Text.Length}"
                  Value="0"&gt;
          &lt;Setter Property="IsEnabled" Value="False" /&gt;
      &lt;/DataTrigger&gt;
  &lt;/Button.Triggers&gt;
</code></pre></div>    </div>
  </li>
  <li>EventTrigger
    <ul>
      <li>Implement the generic <code class="language-plaintext highlighter-rouge">TriggerAction&lt;T&gt;</code> class where T is the type of the control such as Entry, or use base class such as <code class="language-plaintext highlighter-rouge">VisualElement</code> to target groups of controls.</li>
      <li>Override <code class="language-plaintext highlighter-rouge">Invoke</code> method.</li>
    </ul>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;EventTrigger Event="Clicked"&gt;
      &lt;local:MyTriggerAction /&gt;
  &lt;/EventTrigger&gt;
</code></pre></div>    </div>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  public class MyTriggerAction : TriggerAction&lt;Entry&gt;
  {
      protected override void Invoke (Entry entry)
      {
          double result;
          bool isValid = Double.TryParse (entry.Text, out result);
          entry.TextColor = isValid ? Color.Default : Color.Red;
      }
  }
</code></pre></div>    </div>
  </li>
  <li>MultiTrigger
    <ul>
      <li>Can have more than one condition. All the conditions must be true before the Setters are triggered.</li>
      <li>Conditions include <code class="language-plaintext highlighter-rouge">BindingCondition</code> and <code class="language-plaintext highlighter-rouge">ProperyCondition</code></li>
    </ul>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;MultiTrigger TargetType="Button"&gt;
      &lt;MultiTrigger.Conditions&gt;
          &lt;BindingCondition 
              Binding="{Binding Source={x:Reference email},
                                  Path=Text.Length}"
                              Value="0" /&gt;
          &lt;BindingCondition Binding="{Binding Source={x:Reference phone},
                                  Path=Text.Length}"
                              Value="0" /&gt;
      &lt;/MultiTrigger.Conditions&gt;
      &lt;Setter Property="IsEnabled" Value="False" /&gt;
  &lt;/MultiTrigger&gt;
</code></pre></div>    </div>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;PropertyCondition Property="Text" Value="OK" /&gt;
</code></pre></div>    </div>
  </li>
  <li>State
    <ul>
      <li>
        <p>State triggers are a specialized group of triggers that define the conditions under which a <code class="language-plaintext highlighter-rouge">VisualState</code> should be applied.</p>

        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;Style TargetType="Grid"&gt;
      &lt;Setter Property="VisualStateManager.VisualStateGroups"&gt;
          &lt;VisualStateGroupList&gt;
              &lt;VisualStateGroup&gt;
                  &lt;VisualState x:Name="Checked"&gt;
                      &lt;VisualState.StateTriggers&gt;
                          &lt;!-- Add State Triggers here --&gt;
                      &lt;VisualState.Setters&gt;
                          &lt;Setter Property="BackgroundColor"
                                  Value="Black" /&gt;
                      &lt;/VisualState.Setters&gt;
                  &lt;/VisualState&gt;
                  &lt;VisualState x:Name="Unchecked"&gt;
                      &lt;VisualState.StateTriggers&gt;
                          &lt;!-- Add State Triggers here --&gt;
                      &lt;/VisualState.StateTriggers&gt;
                      &lt;VisualState.Setters&gt;
                          &lt;Setter Property="BackgroundColor"
                                  Value="White" /&gt;
                      &lt;/VisualState.Setters&gt;
                  &lt;/VisualState&gt;
              &lt;/VisualStateGroup&gt;
          &lt;/VisualStateGroupList&gt;
      &lt;/Setter&gt;
  &lt;/Style&gt;
</code></pre></div>        </div>

        <ul>
          <li>StateTrigger
            <ul>
              <li>The <code class="language-plaintext highlighter-rouge">StateTrigger</code> class, which derives from the <code class="language-plaintext highlighter-rouge">StateTriggerBase</code> class, has an <code class="language-plaintext highlighter-rouge">IsActive</code> bindable property. A <code class="language-plaintext highlighter-rouge">StateTrigger</code> triggers a <code class="language-plaintext highlighter-rouge">VisualState</code> change when the <code class="language-plaintext highlighter-rouge">IsActive</code> property changes value.</li>
            </ul>

            <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;StateTrigger IsActive="{Binding IsToggled}"
      IsActiveChanged="OnCheckedStateIsActiveChanged" /&gt;
</code></pre></div>            </div>
          </li>
          <li>AdaptiveTrigger
            <ul>
              <li>An <code class="language-plaintext highlighter-rouge">AdaptiveTrigger</code> triggers a VisualState change when the window is a specified height or width. This trigger has two bindable properties: <code class="language-plaintext highlighter-rouge">MinWindowHeight</code> and <code class="language-plaintext highlighter-rouge">MinWindowWidth</code></li>
            </ul>

            <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;AdaptiveTrigger MinWindowWidth="0" /&gt;
</code></pre></div>            </div>
          </li>
          <li>CompareState
            <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;CompareStateTrigger Property="{Binding Source={x:Reference checkBox}, 
    Path=IsChecked}"
      Value="True" /&gt;
</code></pre></div>            </div>
          </li>
          <li>DeviceState
            <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;DeviceStateTrigger Device="iOS" /&gt;
</code></pre></div>            </div>
            <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;DeviceStateTrigger Device="Android" /&gt;
</code></pre></div>            </div>
          </li>
          <li>OrientationState
            <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;OrientationStateTrigger Orientation="Portrait" /&gt;
</code></pre></div>            </div>

            <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  &lt;OrientationStateTrigger Orientation="Landscape" /&gt;
</code></pre></div>            </div>
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h4 id="behaviors">Behaviors</h4>
<p>Adds functionality to a control without the need to subclass</p>
<ul>
  <li>Attached Behaviors</li>
  <li>Xamarin.Forms Behaviors</li>
  <li>Reusable EffectsBehavior</li>
</ul>

<h4 id="data-binding">Data Binding</h4>

<h4 id="effects">Effects</h4>
<p>Simplifies customisation, is reusable and paramaterised. Is appropriate for property changes on platform specific control</p>

<p>Steps:</p>
<ol>
  <li>1</li>
  <li>2</li>
  <li>3</li>
</ol>

<h4 id="custom-renderers">Custom Renderers</h4>
<p>Customise appearance and/or behavior. Required to override a method on a platform specific control or when there is a need to replace the platform specific control that implements a Xamarin.Forms control.</p>

<p>Steps:</p>
<ol>
  <li>1</li>
  <li>2</li>
  <li>3</li>
</ol>

<h4 id="gestures">Gestures</h4>
<ul>
  <li>Tap</li>
  <li>Pinch</li>
  <li>Pan</li>
  <li>Swipe</li>
  <li>Drag &amp; Drop</li>
</ul>

<h4 id="navigation">Navigation</h4>
<ul>
  <li>TabbedPage</li>
  <li>CarouselPage</li>
  <li>FlyoutPage</li>
  <li>ModalPage</li>
</ul>

<h4 id="shell">Shell</h4>
<ul>
  <li>Flyout</li>
  <li>Tabs</li>
  <li>Navigation</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">text</code></p>

<figure class="highlight"><pre><code class="language-csharp" data-lang="csharp"><span class="k">public</span> <span class="k">class</span> <span class="nc">SomeCSharpCode</span>
<span class="p">{</span>

<span class="p">}</span></code></pre></figure>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;SomeXml&gt;</span>
<span class="nt">&lt;/SomeXml&gt;</span></code></pre></figure>


  </div><ul><li><div>
    Next post:
      <a class="page-link" href="/xamarin/2015/10/27/xamarin-ios-swipable-multiple-step-process-used-for-onboarding.html">
        Xamarin iOS swipable multiple step process used for onboarding
      </a>
    </div></li></ul><a class="u-url" href="/xamarin/2015/01/01/dump.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Alwyn Lombaard&#39;s blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Alwyn Lombaard&#39;s blog</li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/alwynlombaard"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">alwynlombaard</span></a></li><li><a href="https://www.twitter.com/mrlombaard"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">mrlombaard</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Mobile developer (guitar student and athlete in my spare time)</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
